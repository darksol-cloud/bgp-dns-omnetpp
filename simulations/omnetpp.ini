# omnetpp.ini - Configuration file for BGP-DNS EID distribution simulation
#
# This file contains multiple configurations for:
# 1. Toy examples (small networks for debugging)
# 2. Medium-scale tests (sanity checks)
# 3. Large-scale experiments (scalability analysis)
# 4. Parameter sweeps for comparative analysis

[General]
network = bgpdns.ToyLineNetwork
sim-time-limit = 100s
warmup-period = 1s

# Output configuration
output-scalar-file = ${resultdir}/${configname}-${iterationvarsf}#${repetition}.sca
output-vector-file = ${resultdir}/${configname}-${iterationvarsf}#${repetition}.vec

# Random number generator
seed-set = ${repetition}
repeat = 5

# Statistics collection
**.result-recording-modes = default,+histogram

# Default message sizes (bytes) - can be adjusted per experiment
**.BgpAnnounce.byteSize = 64
**.BgpWithdraw.byteSize = 32
**.DnsQuery.byteSize = 48
**.DnsResponse.byteSize = 80
**.DnsRegister.byteSize = 72
**.DnsDeregister.byteSize = 24
**.DnsReferral.byteSize = 32

# Default channel parameters
**.EidChannel.delay = 10ms
**.HighLatencyChannel.delay = 250ms

# ============================================================================
# TOY EXAMPLES - Small networks for debugging and explanation
# ============================================================================

[Config ToyLine_BgpOnly]
description = "5-node line network, BGP only, single EID"
network = bgpdns.ToyLineNetwork
sim-time-limit = 30s

*.numNodes = 5

# Node 0 is publisher
*.node[0].isPublisher = true
*.node[0].publishEids = "100"
*.node[0].publishStartTime = 1s

# Node 4 is client
*.node[4].isClient = true
*.node[4].queryEids = "100"
*.node[4].queryStartTime = 5s
*.node[4].queryCount = 10
*.node[4].queryInterval = 1s

# BGP enabled, DNS disabled
*.node[*].bgpEnabled = true
*.node[*].dnsEnabled = false

# Verbose logging for debugging
*.groundTruth.verboseLogging = true
*.groundTruth.snapshotInterval = 1s

[Config ToyLine_DnsOnly]
description = "5-node line network, DNS only, single EID"
network = bgpdns.ToyLineNetwork
sim-time-limit = 30s

*.numNodes = 5

# Node 0 is publisher and authority
*.node[0].isPublisher = true
*.node[0].isAuthority = true
*.node[0].publishEids = "100"
*.node[0].publishStartTime = 1s
*.node[0].dnsTtl = 60s

# Node 2 is resolver
*.node[2].isResolver = true

# Node 4 is client
*.node[4].isClient = true
*.node[4].queryEids = "100"
*.node[4].queryStartTime = 5s
*.node[4].queryCount = 10
*.node[4].queryInterval = 1s
*.node[4].resolverNodeId = 2

# DNS enabled, BGP disabled
*.node[*].bgpEnabled = false
*.node[*].dnsEnabled = true

*.groundTruth.verboseLogging = true

[Config ToyLine_Both]
description = "5-node line network, both BGP and DNS"
extends = ToyLine_BgpOnly

*.node[*].bgpEnabled = true
*.node[*].dnsEnabled = true
*.node[0].isAuthority = true
*.node[2].isResolver = true
*.node[4].resolverNodeId = 2

[Config ToyLine_MultipleEids]
description = "5-node line network, multiple EIDs"
extends = ToyLine_BgpOnly

*.node[0].publishEids = "100,101,102,103,104"
*.node[4].queryEids = "100,101,102,103,104"
*.node[4].queryCount = 50

[Config ToyRing_Bgp]
description = "6-node ring network with BGP"
network = bgpdns.ToyRingNetwork
sim-time-limit = 30s

*.numNodes = 6

*.node[0].isPublisher = true
*.node[0].publishEids = "100"
*.node[0].publishStartTime = 1s

*.node[3].isClient = true
*.node[3].queryEids = "100"
*.node[3].queryStartTime = 5s
*.node[3].queryCount = 10

*.node[*].bgpEnabled = true
*.node[*].dnsEnabled = false

*.groundTruth.verboseLogging = true

[Config ToyStar_Bgp]
description = "Star network (1 hub + 5 spokes) with BGP"
network = bgpdns.ToyStarNetwork
sim-time-limit = 30s

*.numSpokes = 5

*.spoke[0].isPublisher = true
*.spoke[0].publishEids = "100,101"
*.spoke[0].publishStartTime = 1s

*.spoke[4].isClient = true
*.spoke[4].queryEids = "100,101"
*.spoke[4].queryStartTime = 5s

*.hub.bgpEnabled = true
*.spoke[*].bgpEnabled = true
*.hub.dnsEnabled = false
*.spoke[*].dnsEnabled = false

[Config ToyChurn]
description = "5-node line with churn events"
extends = ToyLine_BgpOnly
sim-time-limit = 60s

*.node[0].churnInterval = 5s
*.node[0].churnProbability = 0.5
*.node[0].withdrawProbability = 0.3

*.groundTruth.convergenceCheckInterval = 0.5s

# ============================================================================
# MEDIUM-SCALE TESTS - For sanity checking
# ============================================================================

[Config Medium_Grid_Bgp]
description = "10x10 grid network with BGP"
network = bgpdns.GridNetwork
sim-time-limit = 60s

*.gridWidth = 10
*.gridHeight = 10

# Publishers at corners
*.node[0].isPublisher = true
*.node[0].publishEids = "1-10"
*.node[0].publishStartTime = 1s

*.node[9].isPublisher = true
*.node[9].publishEids = "11-20"
*.node[9].publishStartTime = 1s

*.node[90].isPublisher = true
*.node[90].publishEids = "21-30"
*.node[90].publishStartTime = 1s

*.node[99].isPublisher = true
*.node[99].publishEids = "31-40"
*.node[99].publishStartTime = 1s

# Clients at center
*.node[44].isClient = true
*.node[44].queryCount = 100
*.node[44].queryInterval = 0.5s

*.node[45].isClient = true
*.node[45].queryCount = 100
*.node[45].queryInterval = 0.5s

*.node[*].bgpEnabled = true
*.node[*].dnsEnabled = false

*.groundTruth.snapshotInterval = 5s

[Config Medium_Grid_Dns]
description = "10x10 grid network with DNS"
network = bgpdns.GridNetwork
sim-time-limit = 60s

*.gridWidth = 10
*.gridHeight = 10

# Authority at center
*.node[44].isAuthority = true
*.node[44].authorityDomain = -1  # Serves all

# Resolver at another central node
*.node[45].isResolver = true

# Publishers at corners
*.node[0].isPublisher = true
*.node[0].publishEids = "1-10"
*.node[0].publishStartTime = 1s
*.node[0].authorityNodeId = 44

*.node[9].isPublisher = true
*.node[9].publishEids = "11-20"
*.node[9].publishStartTime = 1s
*.node[9].authorityNodeId = 44

*.node[90].isPublisher = true
*.node[90].publishEids = "21-30"
*.node[90].publishStartTime = 1s
*.node[90].authorityNodeId = 44

*.node[99].isPublisher = true
*.node[99].publishEids = "31-40"
*.node[99].publishStartTime = 1s
*.node[99].authorityNodeId = 44

# Clients
*.node[54].isClient = true
*.node[54].queryCount = 100
*.node[54].queryInterval = 0.5s
*.node[54].resolverNodeId = 45

*.node[55].isClient = true
*.node[55].queryCount = 100
*.node[55].queryInterval = 0.5s
*.node[55].resolverNodeId = 45

*.node[*].bgpEnabled = false
*.node[*].dnsEnabled = true
*.node[*].dnsTtl = 60s

[Config Medium_Leo]
description = "LEO gateway network (2 clusters, 10 nodes each, 2 gateways)"
network = bgpdns.LeoGatewayNetwork
sim-time-limit = 60s

*.clusterSize = 10
*.numGateways = 2

# Publishers in cluster A
*.clusterA[0].isPublisher = true
*.clusterA[0].publishEids = "1-5"
*.clusterA[0].publishStartTime = 1s

# Publishers in cluster B
*.clusterB[0].isPublisher = true
*.clusterB[0].publishEids = "6-10"
*.clusterB[0].publishStartTime = 1s

# Clients cross-cluster
*.clusterA[9].isClient = true
*.clusterA[9].queryEids = "6-10"  # Query cluster B EIDs
*.clusterA[9].queryCount = 50
*.clusterA[9].queryInterval = 0.5s

*.clusterB[9].isClient = true
*.clusterB[9].queryEids = "1-5"  # Query cluster A EIDs
*.clusterB[9].queryCount = 50
*.clusterB[9].queryInterval = 0.5s

*.clusterA[*].bgpEnabled = true
*.clusterB[*].bgpEnabled = true
*.gateway[*].bgpEnabled = true
*.clusterA[*].dnsEnabled = false
*.clusterB[*].dnsEnabled = false
*.gateway[*].dnsEnabled = false

[Config Medium_Hierarchical_Dns]
description = "Hierarchical DNS network"
network = bgpdns.HierarchicalNetwork
sim-time-limit = 60s

*.numDomains = 4
*.nodesPerDomain = 10
*.numResolvers = 2

# Publishers in each domain
*.domainNode[0].isPublisher = true
*.domainNode[0].publishEids = "1-5"
*.domainNode[0].publishStartTime = 1s

*.domainNode[10].isPublisher = true
*.domainNode[10].publishEids = "6-10"
*.domainNode[10].publishStartTime = 1s

*.domainNode[20].isPublisher = true
*.domainNode[20].publishEids = "11-15"
*.domainNode[20].publishStartTime = 1s

*.domainNode[30].isPublisher = true
*.domainNode[30].publishEids = "16-20"
*.domainNode[30].publishStartTime = 1s

# Clients
*.domainNode[5].isClient = true
*.domainNode[5].queryCount = 50
*.domainNode[5].queryInterval = 0.5s

*.domainNode[15].isClient = true
*.domainNode[15].queryCount = 50
*.domainNode[15].queryInterval = 0.5s

*.root.bgpEnabled = false
*.resolver[*].bgpEnabled = false
*.authority[*].bgpEnabled = false
*.domainNode[*].bgpEnabled = false

*.root.dnsEnabled = true
*.resolver[*].dnsEnabled = true
*.authority[*].dnsEnabled = true
*.domainNode[*].dnsEnabled = true

*.domainNode[*].dnsTtl = 60s

# ============================================================================
# LARGE-SCALE EXPERIMENTS - For scalability analysis
# Use separate configs for each size since OMNeT++ doesn't support computed indices
# ============================================================================

# Base configuration for large BGP grids
[Config Large_Grid_Bgp_Base]
abstract = true
network = bgpdns.GridNetwork
sim-time-limit = 120s
warmup-period = 5s

*.node[0].isPublisher = true
*.node[0].publishStartTime = 1s
*.node[0].publishInterval = 0.1s

*.node[*].bgpEnabled = true
*.node[*].dnsEnabled = false

*.groundTruth.snapshotInterval = 10s
*.groundTruth.convergenceCheckInterval = 1s

[Config Large_Grid_Bgp_10x10]
description = "10x10 grid with BGP"
extends = Large_Grid_Bgp_Base
*.gridWidth = 10
*.gridHeight = 10
*.node[0].publishEids = "1-50"
*.node[9].isPublisher = true
*.node[9].publishEids = "51-100"
*.node[9].publishStartTime = 1s
*.node[50].isClient = true
*.node[50].queryCount = 200
*.node[50].queryInterval = 0.2s

[Config Large_Grid_Bgp_20x20]
description = "20x20 grid with BGP"
extends = Large_Grid_Bgp_Base
*.gridWidth = 20
*.gridHeight = 20
*.node[0].publishEids = "1-50"
*.node[19].isPublisher = true
*.node[19].publishEids = "51-100"
*.node[19].publishStartTime = 1s
*.node[200].isClient = true
*.node[200].queryCount = 200
*.node[200].queryInterval = 0.2s

[Config Large_Grid_Bgp_30x30]
description = "30x30 grid with BGP"
extends = Large_Grid_Bgp_Base
*.gridWidth = 30
*.gridHeight = 30
*.node[0].publishEids = "1-50"
*.node[29].isPublisher = true
*.node[29].publishEids = "51-100"
*.node[29].publishStartTime = 1s
*.node[450].isClient = true
*.node[450].queryCount = 200
*.node[450].queryInterval = 0.2s

[Config Large_Grid_Bgp_40x40]
description = "40x40 grid with BGP"
extends = Large_Grid_Bgp_Base
*.gridWidth = 40
*.gridHeight = 40
*.node[0].publishEids = "1-50"
*.node[39].isPublisher = true
*.node[39].publishEids = "51-100"
*.node[39].publishStartTime = 1s
*.node[800].isClient = true
*.node[800].queryCount = 200
*.node[800].queryInterval = 0.2s

[Config Large_Grid_Bgp_50x50]
description = "50x50 grid with BGP"
extends = Large_Grid_Bgp_Base
*.gridWidth = 50
*.gridHeight = 50
*.node[0].publishEids = "1-50"
*.node[49].isPublisher = true
*.node[49].publishEids = "51-100"
*.node[49].publishStartTime = 1s
*.node[1250].isClient = true
*.node[1250].queryCount = 200
*.node[1250].queryInterval = 0.2s

# Base configuration for large DNS grids
[Config Large_Grid_Dns_Base]
abstract = true
network = bgpdns.GridNetwork
sim-time-limit = 120s
warmup-period = 5s

*.node[0].isPublisher = true
*.node[0].publishStartTime = 1s

*.node[*].bgpEnabled = false
*.node[*].dnsEnabled = true
*.node[*].dnsTtl = 60s

*.groundTruth.snapshotInterval = 10s

[Config Large_Grid_Dns_10x10]
description = "10x10 grid with DNS"
extends = Large_Grid_Dns_Base
*.gridWidth = 10
*.gridHeight = 10
*.node[50].isAuthority = true
*.node[51].isResolver = true
*.node[0].publishEids = "1-50"
*.node[0].authorityNodeId = 50
*.node[9].isPublisher = true
*.node[9].publishEids = "51-100"
*.node[9].publishStartTime = 1s
*.node[9].authorityNodeId = 50
*.node[25].isClient = true
*.node[25].queryCount = 200
*.node[25].queryInterval = 0.2s
*.node[25].resolverNodeId = 51

[Config Large_Grid_Dns_20x20]
description = "20x20 grid with DNS"
extends = Large_Grid_Dns_Base
*.gridWidth = 20
*.gridHeight = 20
*.node[200].isAuthority = true
*.node[201].isResolver = true
*.node[0].publishEids = "1-50"
*.node[0].authorityNodeId = 200
*.node[19].isPublisher = true
*.node[19].publishEids = "51-100"
*.node[19].publishStartTime = 1s
*.node[19].authorityNodeId = 200
*.node[100].isClient = true
*.node[100].queryCount = 200
*.node[100].queryInterval = 0.2s
*.node[100].resolverNodeId = 201

[Config Large_Grid_Dns_30x30]
description = "30x30 grid with DNS"
extends = Large_Grid_Dns_Base
*.gridWidth = 30
*.gridHeight = 30
*.node[450].isAuthority = true
*.node[451].isResolver = true
*.node[0].publishEids = "1-50"
*.node[0].authorityNodeId = 450
*.node[29].isPublisher = true
*.node[29].publishEids = "51-100"
*.node[29].publishStartTime = 1s
*.node[29].authorityNodeId = 450
*.node[225].isClient = true
*.node[225].queryCount = 200
*.node[225].queryInterval = 0.2s
*.node[225].resolverNodeId = 451

# ============================================================================
# PARAMETER SWEEP EXPERIMENTS
# ============================================================================

[Config Sweep_ChurnRate_Bgp]
description = "Sweep churn rate impact on BGP"
network = bgpdns.GridNetwork
sim-time-limit = 120s

*.gridWidth = 20
*.gridHeight = 20

*.node[0].isPublisher = true
*.node[0].publishEids = "1-50"
*.node[0].publishStartTime = 1s
*.node[0].churnInterval = ${churnInt=1,5,10,30,60}s
*.node[0].churnProbability = ${churnProb=0.1,0.3,0.5}
*.node[0].withdrawProbability = 0.2

*.node[200].isClient = true
*.node[200].queryCount = 500
*.node[200].queryInterval = 0.2s

*.node[*].bgpEnabled = true
*.node[*].dnsEnabled = false

[Config Sweep_ChurnRate_Dns]
description = "Sweep churn rate impact on DNS"
network = bgpdns.GridNetwork
sim-time-limit = 120s

*.gridWidth = 20
*.gridHeight = 20

*.node[0].isPublisher = true
*.node[0].publishEids = "1-50"
*.node[0].publishStartTime = 1s
*.node[0].churnInterval = ${churnInt=1,5,10,30,60}s
*.node[0].churnProbability = ${churnProb=0.1,0.3,0.5}
*.node[0].withdrawProbability = 0.2
*.node[0].authorityNodeId = 199

*.node[199].isAuthority = true
*.node[198].isResolver = true

*.node[200].isClient = true
*.node[200].queryCount = 500
*.node[200].queryInterval = 0.2s
*.node[200].resolverNodeId = 198

*.node[*].bgpEnabled = false
*.node[*].dnsEnabled = true
*.node[*].dnsTtl = 60s

[Config Sweep_DnsTtl]
description = "Sweep DNS TTL impact"
network = bgpdns.GridNetwork
sim-time-limit = 120s

*.gridWidth = 20
*.gridHeight = 20

*.node[0].isPublisher = true
*.node[0].publishEids = "1-50"
*.node[0].publishStartTime = 1s
*.node[0].churnInterval = 10s
*.node[0].churnProbability = 0.3
*.node[0].authorityNodeId = 199

*.node[199].isAuthority = true
*.node[198].isResolver = true

*.node[200].isClient = true
*.node[200].queryCount = 500
*.node[200].queryInterval = 0.2s
*.node[200].resolverNodeId = 198

*.node[*].bgpEnabled = false
*.node[*].dnsEnabled = true
*.node[*].dnsTtl = ${TTL=5,15,30,60,120,300,600}s

[Config Sweep_EidCount_Bgp]
description = "Sweep EID count for BGP"
network = bgpdns.GridNetwork
sim-time-limit = 120s

*.gridWidth = 20
*.gridHeight = 20

*.node[0].isPublisher = true
*.node[0].publishEids = ${M="1-1","1-10","1-50","1-100","1-200","1-500","1-1000"}
*.node[0].publishStartTime = 1s
*.node[0].publishInterval = 0.01s

*.node[399].isClient = true
*.node[399].queryCount = 100
*.node[399].queryInterval = 0.1s

*.node[*].bgpEnabled = true
*.node[*].dnsEnabled = false

[Config Sweep_EidCount_Dns]
description = "Sweep EID count for DNS"
network = bgpdns.GridNetwork
sim-time-limit = 120s

*.gridWidth = 20
*.gridHeight = 20

*.node[0].isPublisher = true
*.node[0].publishEids = ${M="1-1","1-10","1-50","1-100","1-200","1-500","1-1000"}
*.node[0].publishStartTime = 1s
*.node[0].publishInterval = 0.01s
*.node[0].authorityNodeId = 199

*.node[199].isAuthority = true
*.node[198].isResolver = true

*.node[399].isClient = true
*.node[399].queryCount = 100
*.node[399].queryInterval = 0.1s
*.node[399].resolverNodeId = 198

*.node[*].bgpEnabled = false
*.node[*].dnsEnabled = true

[Config Sweep_QueryDistribution]
description = "Compare uniform vs Zipf query distributions"
network = bgpdns.GridNetwork
sim-time-limit = 120s

*.gridWidth = 20
*.gridHeight = 20

*.node[0].isPublisher = true
*.node[0].publishEids = "1-100"
*.node[0].publishStartTime = 1s
*.node[0].authorityNodeId = 199

# DNS setup
*.node[199].isAuthority = true
*.node[198].isResolver = true

*.node[399].isClient = true
*.node[399].queryEids = "1-100"
*.node[399].queryCount = 1000
*.node[399].queryInterval = 0.1s
*.node[399].queryZipfAlpha = ${zipf=0,0.5,1.0,1.5,2.0}
*.node[399].resolverNodeId = 198

*.node[*].bgpEnabled = false
*.node[*].dnsEnabled = true
*.node[*].dnsTtl = 60s

# ============================================================================
# COMPARATIVE EXPERIMENTS
# ============================================================================

[Config Compare_BgpVsDns_Latency_Bgp]
description = "BGP discovery latency measurement"
network = bgpdns.GridNetwork
sim-time-limit = 60s

*.gridWidth = 20
*.gridHeight = 20

*.node[0].isPublisher = true
*.node[0].publishEids = "1-50"
*.node[0].publishStartTime = 1s

*.node[399].isClient = true
*.node[399].queryEids = "1-50"
*.node[399].queryCount = 200
*.node[399].queryInterval = 0.2s
*.node[399].queryStartTime = 5s

*.node[*].bgpEnabled = true
*.node[*].dnsEnabled = false

[Config Compare_BgpVsDns_Latency_Dns]
description = "DNS discovery latency measurement"
network = bgpdns.GridNetwork
sim-time-limit = 60s

*.gridWidth = 20
*.gridHeight = 20

*.node[0].isPublisher = true
*.node[0].publishEids = "1-50"
*.node[0].publishStartTime = 1s
*.node[0].authorityNodeId = 199

*.node[199].isAuthority = true
*.node[198].isResolver = true

*.node[399].isClient = true
*.node[399].queryEids = "1-50"
*.node[399].queryCount = 200
*.node[399].queryInterval = 0.2s
*.node[399].queryStartTime = 5s
*.node[399].resolverNodeId = 198

*.node[*].bgpEnabled = false
*.node[*].dnsEnabled = true
*.node[*].dnsTtl = 60s

[Config Compare_Overhead_Bgp]
description = "BGP message/byte overhead measurement"
network = bgpdns.GridNetwork
sim-time-limit = 120s

*.gridWidth = ${N=10,20,30}
*.gridHeight = ${N}

*.node[0].isPublisher = true
*.node[0].publishEids = ${M="1-10","1-50","1-100"}
*.node[0].publishStartTime = 1s
*.node[0].publishInterval = 0.05s

# Client at last node
*.node[99].isClient = true
*.node[99].queryCount = 100
*.node[99].queryInterval = 0.5s

*.node[*].bgpEnabled = true
*.node[*].dnsEnabled = false

[Config Compare_Overhead_Dns]
description = "DNS message/byte overhead measurement"
network = bgpdns.GridNetwork
sim-time-limit = 120s

*.gridWidth = ${N=10,20,30}
*.gridHeight = ${N}

*.node[0].isPublisher = true
*.node[0].publishEids = ${M="1-10","1-50","1-100"}
*.node[0].publishStartTime = 1s
*.node[0].publishInterval = 0.05s
*.node[0].authorityNodeId = 50

*.node[50].isAuthority = true
*.node[51].isResolver = true

# Client at last node
*.node[99].isClient = true
*.node[99].queryCount = 100
*.node[99].queryInterval = 0.5s
*.node[99].resolverNodeId = 51

*.node[*].bgpEnabled = false
*.node[*].dnsEnabled = true
*.node[*].dnsTtl = 60s

[Config Compare_Staleness_Bgp]
description = "BGP staleness under churn"
network = bgpdns.GridNetwork
sim-time-limit = 180s

*.gridWidth = 20
*.gridHeight = 20

*.node[0].isPublisher = true
*.node[0].publishEids = "1-20"
*.node[0].publishStartTime = 1s
*.node[0].churnInterval = ${churn=5,10,20}s
*.node[0].churnProbability = 0.3
*.node[0].withdrawProbability = 0.2

*.node[399].isClient = true
*.node[399].queryEids = "1-20"
*.node[399].queryCount = 500
*.node[399].queryInterval = 0.3s
*.node[399].queryStartTime = 10s

*.node[*].bgpEnabled = true
*.node[*].dnsEnabled = false

*.groundTruth.snapshotInterval = 5s
*.groundTruth.convergenceCheckInterval = 1s

[Config Compare_Staleness_Dns]
description = "DNS staleness under churn"
network = bgpdns.GridNetwork
sim-time-limit = 180s

*.gridWidth = 20
*.gridHeight = 20

*.node[0].isPublisher = true
*.node[0].publishEids = "1-20"
*.node[0].publishStartTime = 1s
*.node[0].churnInterval = ${churn=5,10,20}s
*.node[0].churnProbability = 0.3
*.node[0].withdrawProbability = 0.2
*.node[0].authorityNodeId = 199

*.node[199].isAuthority = true
*.node[198].isResolver = true

*.node[399].isClient = true
*.node[399].queryEids = "1-20"
*.node[399].queryCount = 500
*.node[399].queryInterval = 0.3s
*.node[399].queryStartTime = 10s
*.node[399].resolverNodeId = 198

*.node[*].bgpEnabled = false
*.node[*].dnsEnabled = true
*.node[*].dnsTtl = ${TTL=30,60,120}s

*.groundTruth.snapshotInterval = 5s
*.groundTruth.convergenceCheckInterval = 1s

# ============================================================================
# DISRUPTION SCENARIOS
# ============================================================================

[Config Disruption_LinkFailure_Bgp]
description = "BGP behavior under link failures"
network = bgpdns.LeoGatewayNetwork
sim-time-limit = 120s

*.clusterSize = 15
*.numGateways = 2

*.clusterA[0].isPublisher = true
*.clusterA[0].publishEids = "1-10"
*.clusterA[0].publishStartTime = 1s

*.clusterB[0].isPublisher = true
*.clusterB[0].publishEids = "11-20"
*.clusterB[0].publishStartTime = 1s

*.clusterA[14].isClient = true
*.clusterA[14].queryEids = "11-20"
*.clusterA[14].queryCount = 100
*.clusterA[14].queryInterval = 1s
*.clusterA[14].queryStartTime = 10s

*.clusterB[14].isClient = true
*.clusterB[14].queryEids = "1-10"
*.clusterB[14].queryCount = 100
*.clusterB[14].queryInterval = 1s
*.clusterB[14].queryStartTime = 10s

*.clusterA[*].bgpEnabled = true
*.clusterB[*].bgpEnabled = true
*.gateway[*].bgpEnabled = true
*.clusterA[*].dnsEnabled = false
*.clusterB[*].dnsEnabled = false
*.gateway[*].dnsEnabled = false

[Config Disruption_LinkFailure_Dns]
description = "DNS behavior under link failures"
network = bgpdns.LeoGatewayNetwork
sim-time-limit = 120s

*.clusterSize = 15
*.numGateways = 2

*.clusterA[0].isPublisher = true
*.clusterA[0].publishEids = "1-10"
*.clusterA[0].publishStartTime = 1s
*.clusterA[0].authorityNodeId = 30

*.clusterB[0].isPublisher = true
*.clusterB[0].publishEids = "11-20"
*.clusterB[0].publishStartTime = 1s
*.clusterB[0].authorityNodeId = 30

*.gateway[0].isAuthority = true
*.gateway[1].isResolver = true

*.clusterA[14].isClient = true
*.clusterA[14].queryEids = "11-20"
*.clusterA[14].queryCount = 100
*.clusterA[14].queryInterval = 1s
*.clusterA[14].queryStartTime = 10s
*.clusterA[14].resolverNodeId = 31

*.clusterB[14].isClient = true
*.clusterB[14].queryEids = "1-10"
*.clusterB[14].queryCount = 100
*.clusterB[14].queryInterval = 1s
*.clusterB[14].queryStartTime = 10s
*.clusterB[14].resolverNodeId = 31

*.clusterA[*].bgpEnabled = false
*.clusterB[*].bgpEnabled = false
*.gateway[*].bgpEnabled = false
*.clusterA[*].dnsEnabled = true
*.clusterB[*].dnsEnabled = true
*.gateway[*].dnsEnabled = true
*.clusterA[*].dnsTtl = 60s
*.clusterB[*].dnsTtl = 60s
*.gateway[*].dnsTtl = 60s
